# üçΩÔ∏è Restaurant Booking System - Microservices Backend

![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Kafka](https://img.shields.io/badge/Apache_Kafka-231F20?style=for-the-badge&logo=apache-kafka&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

**–ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ** - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI, PostgreSQL, Kafka –∏ Docker.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [üçΩÔ∏è Restaurant Booking System - Microservices Backend](#Ô∏è-restaurant-booking-system---microservices-backend)
  - [üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
  - [üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#-–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
    - [–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏:](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏)
    - [–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:](#–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã)
  - [‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#Ô∏è-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
  - [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
    - [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
    - [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
    - [–ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤](#–ø–æ—Ä—Ç—ã-—Å–µ—Ä–≤–∏—Å–æ–≤)
  - [–°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
    - [üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#-api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [Auth Service (http://localhost:8000/docs)](#auth-service-httplocalhost8000docs)
- [Menu Service (http://localhost:8001/docs)](#menu-service-httplocalhost8001docs)
- [Reservation Service (http://localhost:8002/docs)](#reservation-service-httplocalhost8002docs)
    - [üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#jwt-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å](#—Ä–æ–ª–µ–≤–∞—è-–º–æ–¥–µ–ª—å)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
    - [üìä –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
  - [–°—Ö–µ–º–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö](#—Å—Ö–µ–º–∞-–±–∞–∑-–¥–∞–Ω–Ω—ã—Ö)
- [Auth Service (auth\_db)](#auth-service-auth_db)
- [Menu Service (menu\_db)](#menu-service-menu_db)
- [Reservation Service (res\_db)](#reservation-service-res_db)
    - [üîÑ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏](#-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è-–º–µ–∂–¥—É-—Å–µ—Ä–≤–∏—Å–∞–º–∏)
- [Kafka –¢–æ–ø–∏–∫–∏](#kafka-—Ç–æ–ø–∏–∫–∏)

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–∏–∫–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ä–æ–ª–∏)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)
- ‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ Kafka
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö API

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:

1. **Auth Service** (`:8000`) - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
2. **Menu Service** (`:8001`) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
3. **Reservation Service** (`:8002`) - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–∏–∫–æ–≤

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           |       –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è            |         –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                  |
|---------------------|-----------------------------|-------------------------------------|
| **Backend**         | FastAPI (Python 3.11)       | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫           |
| **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**     | PostgreSQL 15               | –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ø–æ 1 –ë–î –Ω–∞ —Å–µ—Ä–≤–∏—Å) |
| **ORM**             | SQLModel                    | –û–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ    |
| **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**    | 3 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–∞       | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏          |
| **–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è**    | Apache Kafka                | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏       |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker + Docker Compose     | –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è         |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**     | JWT (JSON Web Tokens)       | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è           |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**    | Swagger/OpenAPI             | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è API docs   |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Git

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd Table_Service

python -m venv venv
.\venv\Scripts\Activate.ps1

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up --build

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# 4. –ó–∞–∫—Ä—ã—Ç—å
docker-compose down
```

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
–°–µ—Ä–≤–∏—Å	            –ü–æ—Ä—Ç	Swagger UI
Auth Service	    8000	http://localhost:8000/docs
Menu Service	    8001	http://localhost:8001/docs
Reservation Service	8002	http://localhost:8002/docs

## –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

- Email: admin@restaurant.com

- –ü–∞—Ä–æ–ª—å: Admin123!

### üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
# Auth Service (http://localhost:8000/docs)
–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
1. POST /auth/register - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 
2. POST /auth/login - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞)
3. GET /auth/me - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
4. GET /auth/users - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

# Menu Service (http://localhost:8001/docs)
–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
1. GET /api/v1/menu - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –±–ª—é–¥–∞ (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)
2. POST /api/v1/menu - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω)
3. PUT /api/v1/menu/{id} - –û–±–Ω–æ–≤–∏—Ç—å –±–ª—é–¥–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω)
4. DELETE /api/v1/menu/{id} - –£–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω)

# Reservation Service (http://localhost:8002/docs)
–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
1. GET /reservations/tables - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç–æ–ª–∏–∫–∏ (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)
2. POST /reservations/ - –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
3. GET /reservations/my - –ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
4. GET /reservations/tables/available - –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–æ–ª–∏–∫–∏ –Ω–∞ –≤—Ä–µ–º—è

### üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
# JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization: Bearer <token>
–¢–æ–∫–µ–Ω –≤—ã–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ –∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç 2 —á–∞—Å–∞
–í —Ç–æ–∫–µ–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (ID, —Ä–æ–ª—å)

# –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å
user - –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–º–æ–∂–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–∏–∫–∏)
admin - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º)

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ bcrypt —Ö—ç—à–µ–π
–í—Å–µ API –∑–∞—â–∏—â–µ–Ω—ã CORS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏
–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Pydantic

### üìä –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
## –°—Ö–µ–º–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
# Auth Service (auth_db)
sql
CREATE TABLE "user" (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    role VARCHAR(50) DEFAULT 'user',
    full_name VARCHAR(255),
    phone VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
# Menu Service (menu_db)
sql
CREATE TABLE menuitem (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
# Reservation Service (res_db)
sql
CREATE TABLE "table" (
    id SERIAL PRIMARY KEY,
    table_number INTEGER UNIQUE NOT NULL,
    capacity INTEGER NOT NULL CHECK (capacity BETWEEN 1 AND 12),
    description TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE reservation (
    id SERIAL PRIMARY KEY,
    reservation_code VARCHAR(50) UNIQUE NOT NULL,
    user_id INTEGER NOT NULL,
    table_id INTEGER REFERENCES "table"(id),
    guests_count INTEGER NOT NULL CHECK (guests_count BETWEEN 1 AND 20),
    reservation_time TIMESTAMP NOT NULL,
    duration_minutes INTEGER DEFAULT 120,
    status VARCHAR(20) DEFAULT 'pending',
    contact_phone VARCHAR(50) NOT NULL,
    contact_email VARCHAR(255) NOT NULL,
    special_requests TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

### üîÑ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
# Kafka –¢–æ–ø–∏–∫–∏
user.events - —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
menu.events - —Å–æ–±—ã—Ç–∏—è –º–µ–Ω—é (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –±–ª—é–¥)
reservation.events - —Å–æ–±—ã—Ç–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞)